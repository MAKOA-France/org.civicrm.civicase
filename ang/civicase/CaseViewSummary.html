<div class="civicase-view-summary crm-entity" data-entity="Case" data-id="{{ item.id }}">
  <div class="row civicase-summary-top-outer">
    <div class="civicase-case-subject col-md-6">
      <p crm-editable="item" data-field="subject" data-type="textarea" crm-form-success="onChangeSubject($data)"></p>
    </div>
    <div class="civicase-next-milestone col-md-3" ng-class="{'milestone-overdue': isActivityOverdue(item.activity_summary.milestone[0])}">
      <h3>
        {{ ts('Next Milestone:') }}
        <span ng-if="item.activity_summary.milestone.length">{{ activityTypes[item.activity_summary.milestone[0].activity_type_id].label }}</span>
      </h3>
      <div ng-if="item.activity_summary.milestone.length">{{ ts("Due:") + ' ' + CRM.utils.formatDate(item.activity_summary.milestone[0].activity_date_time) }}</div>
    </div>
    <div class="civicase-next-task col-md-3" ng-class="{'task-overdue': isActivityOverdue(item.activity_summary.task[0])}">
      <h3>
        {{ ts('Next task:') }}
        <span ng-if="item.activity_summary.task.length">{{ activityTypes[item.activity_summary.task[0].activity_type_id].label }}</span>
      </h3>
      <div ng-if="item.activity_summary.task.length">{{ ts("Due:") + ' ' + CRM.utils.formatDate(item.activity_summary.task[0].activity_date_time) }}</div>
    </div>
  </div>
  <div class="row" ng-if="item.customData" ng-include="'~/civicase/CaseViewCustomData.html'"></div>
  <div class="civicase-summary-mid row">
    <div class="col-md-6">
      <div ng-include="'~/civicase/CaseViewTasks.html'"></div>
    </div>
    <div class="col-md-6">
      <div ng-include="'~/civicase/CaseViewCommunicationRecent.html'"></div>
    </div>
  </div>
  <div class="row" ng-include="'~/civicase/CaseViewRelatedCases.html'" ng-if="item.relatedCases.length"></div>
</div>