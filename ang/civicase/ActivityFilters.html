<form class="form-inline act-filters">

  <div class="btn-group btn-group-sm">
    <button type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">{{ ts('Filters') }} <span class="caret"></span></button>
    <ul class="dropdown-menu" role="menu">
      <li>
        <span><input class="form-control" placeholder="&#xf002" ng-model="availableFilterSearchText" /></span>
      </li>
      <li ng-repeat="field in availableFilters | filter:{label: availableFilterSearchText}">
        <span>
          <input type="checkbox" id="availableFilter_{{ field.name }}" ng-model="exposedFilters[field.name]" />
          <label for="availableFilter_{{ field.name }}">{{ field.label }}</label>
        </span>
      </li>
    </ul>
  </div>

  <span ng-repeat="field in availableFilters" ng-if="exposedFilters[field.name]" ng-switch="field.html_type">
    <span ng-switch-when="Autocomplete-Select">
      <input
        placeholder="{{ field.label }}"
        ng-list class="form-control"
        ng-model="filters[field.name]"
        crm-entityref="{entity: field.entity, select: {multiple: true}, api: {params: field.api_params}}"
      />
    </span>
    <span ng-switch-when="Select Date">
      <span placeholder="{{ field.label }}" crm-ui-date-range="filters[field.name]"></span>
    </span>
    <span ng-switch-default>
      <input placeholder="{{ field.label }}" type="{{ field.data_type === 'Number' || field.data_type === 'Integer' ? 'number' : 'text' }}" ng-if="!field.options && !field.is_search_range" class="form-control" id="case_search_field_custom_{{ field.id }}" ng-model="filters[field.name]" />
      <span ng-if="!field.options && field.is_search_range" crm-ui-number-range="filters[field.name]"></span>
      <input ng-list ng-if="field.options" class="form-control" placeholder="{{ field.label }}" crm-ui-select="{allowClear: true, multiple: true, data: field.options}" ng-model="filters[field.name]" />
    </span>
  </span>

</form>